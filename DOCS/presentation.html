<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>

@media (max-width: 768px) {
  /* CSS that should be displayed if width is equal to or less than 800px goes here */
  .modal-dialog{
    max-width: 85%;
  }
}

.modal-dialog {
    max-width: 85%;
  top: calc(100% - 550px); 
}
    .col-4.date{
        padding: 0 60px 0 15px !important;
    }
.col-4{
    padding: 0 0 0 1px !important;
}
.col-5{
    padding: 0 0 0 7px !important;
}
.col-7{
    padding: 0 0 0 0 !important;
}
</style>
<body>
    <div class="container-fluid text-center" style="background-color: #e9e9e9;">
<div class=" col-sm-12  col-md-12 col-lg-8 offset-lg-2" style="padding-top:70px; padding-bottom: 70px; ">
    <div class="row">
        <div class="col text-center"  >
            <div class="document" >
            <img class="docu" src="thumb2.jpg" style="   max-width: 100%;" alt="document">
            </div>

            <div class="sign" style="background-color: white;">
                <br>
                <hr width="85%">
                <div class="container" style="margin-top:52px;">
                    <div class="row"></div>
                        <div class="col-12" style="margin-left:20px; margin-right:15px;">
                        <div class="row">
                            <div class="col-5">
                                <div class="row">
                                <div class="col-5" style="margin-top:28px;"><p style="font-size: 12px; font-weight: 600; ">AGREED TO:</p></div>
                                <div class="col-7">
                                    <button type="button" class="btn " data-toggle="modal" data-target="#exampleModal-lg" style="background: rgba(247,191,51,1); border-color: #000000;">Sign here</button>
                                    <div class="col"><hr></div>
                                    <div class="col"><p style="font-size: 13px; font-weight: 500;">(Signature)</p></div>
                                </div>
                            </div>
                            </div>
                            <div class="col-3" style="margin-top:28px;">
                                <div class="col"><hr></div>
                                    <div class="col"><p style="font-size: 13px; font-weight: 500;">(Printed Name)</p></div>
                            </div>
                            <div class="col-4 date" style="margin-top:28px;"><div class="col"><hr></div>
                            <div class="col"><p style="font-size: 13px; font-weight: 500;">(Date)</p></div></div>
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div>
  <!-- Modal -->
  <div class="modal fade" id="exampleModal-lg" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div id="signArea" >
                
                <div class="sig sigWrapper" style="height:auto;">
                    <div class="typed"></div>
                    <canvas class="sign-pad" id="sign-pad" width="300" height="100"></canvas>
                </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
        
        
    </div>
</div>
    </div>
    
</body>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<!-- ESIGNATURE -->
<!-- Jquery Core Js -->
<script src="../esignature/js/jquery.min.js"></script>

<!-- Bootstrap Core Js -->
<script src="../esignature/js/bootstrap.min.js"></script>

<!-- Bootstrap Select Js -->
<script src="../esignature/js/bootstrap-select.js"></script>

<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

<link href="../esignature/css/jquery.signaturepad.css" rel="stylesheet">
<script src="../esignature/js/numeric-1.2.6.min.js"></script> 
<script src="../esignature/js/bezier.js"></script>
<script src="../esignature/js/jquery.signaturepad.js"></script> 

<script type='text/javascript' src="https://github.com/niklasvh/html2canvas/releases/download/0.4.1/html2canvas.js"></script>
<script src="../esignature/js/json2.min.js"></script>

<script>

$(document).ready(function(e){

    $(document).ready(function() {
        $('#signArea').signaturePad({drawOnly:true, drawBezierCurves:true, lineTop:90,penColor:"rgba(0,0,0,0);",backgroundColor:"rgba(0,0,0,0);"});
    });
    
    $("#btnSaveSign").click(function(e){
        html2canvas([document.getElementById('sign-pad')], {
            onrendered: function (canvas) {
                var canvas_img_data = canvas.toDataURL('image/png');
                var img_data = canvas_img_data.replace(/^data:image\/(png|jpg);base64,/, "");
                //ajax call to save image inside folder
                $.ajax({
                    url: 'save_sign.php',
                    data: { img_data:img_data },
                    type: 'post',
                    dataType: 'json',
                    success: function (response) {
                       window.location.reload();
                    }
                });
            }
        });
    });

});
</script>

</html>